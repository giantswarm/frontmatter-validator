{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://raw.githubusercontent.com/giantswarm/frontmatter-validator/main/frontmatter-validator.schema.json",
  "title": "Frontmatter Validator Configuration",
  "description": "Configuration schema for the Giant Swarm frontmatter validator",
  "type": "object",
  "properties": {
    "default_rules": {
      "type": "object",
      "title": "Default Rules",
      "description": "Default validation rules applied to all files unless overridden",
      "properties": {
        "enabled_checks": {
          "type": "array",
          "title": "Enabled Checks",
          "description": "List of validation checks that are enabled by default",
          "items": {
            "$ref": "#/$defs/checkId"
          },
          "uniqueItems": true
        },
        "disabled_checks": {
          "type": "array",
          "title": "Disabled Checks",
          "description": "List of validation checks that are disabled by default",
          "items": {
            "$ref": "#/$defs/checkId"
          },
          "uniqueItems": true
        }
      },
      "additionalProperties": false
    },
    "directory_overrides": {
      "type": "array",
      "title": "Directory Overrides",
      "description": "Directory-specific rule overrides that take precedence over default rules",
      "items": {
        "type": "object",
        "title": "Directory Override",
        "properties": {
          "path": {
            "type": "string",
            "title": "Path Pattern",
            "description": "Glob pattern matching file paths (e.g., 'src/content/vintage/**')",
            "examples": [
              "src/content/vintage/**",
              "src/content/changes/*",
              "**/_index.md",
              "docs/specific-file.md"
            ]
          },
          "enabled_checks": {
            "type": "array",
            "title": "Enabled Checks",
            "description": "Additional validation checks to enable for this path pattern",
            "items": {
              "$ref": "#/$defs/checkId"
            },
            "uniqueItems": true
          },
          "disabled_checks": {
            "type": "array",
            "title": "Disabled Checks",
            "description": "Validation checks to disable for this path pattern",
            "items": {
              "$ref": "#/$defs/checkId"
            },
            "uniqueItems": true
          }
        },
        "required": ["path"],
        "additionalProperties": false
      }
    }
  },
  "required": ["default_rules"],
  "additionalProperties": false,
  "$defs": {
    "checkId": {
      "type": "string",
      "title": "Check ID",
      "description": "Validation check identifier",
      "enum": [
        "NO_FRONT_MATTER",
        "NO_TRAILING_NEWLINE",
        "UNKNOWN_ATTRIBUTE",
        "NO_TITLE",
        "LONG_TITLE",
        "SHORT_TITLE",
        "NO_DESCRIPTION",
        "LONG_DESCRIPTION",
        "SHORT_DESCRIPTION",
        "NO_FULL_STOP_DESCRIPTION",
        "INVALID_DESCRIPTION",
        "NO_LINK_TITLE",
        "LONG_LINK_TITLE",
        "NO_WEIGHT",
        "NO_OWNER",
        "INVALID_OWNER",
        "NO_LAST_REVIEW_DATE",
        "REVIEW_TOO_LONG_AGO",
        "INVALID_LAST_REVIEW_DATE",
        "NO_USER_QUESTIONS",
        "LONG_USER_QUESTION",
        "NO_QUESTION_MARK",
        "RUNBOOK_LAYOUT_NOT_SET",
        "INVALID_RUNBOOK_VARIABLES",
        "RUNBOOK_VARIABLE_WITHOUT_NAME",
        "INVALID_RUNBOOK_VARIABLE_NAME",
        "INVALID_RUNBOOK_VARIABLE",
        "INVALID_RUNBOOK_DASHBOARDS",
        "INVALID_RUNBOOK_DASHBOARD",
        "INVALID_RUNBOOK_DASHBOARD_LINK",
        "INVALID_RUNBOOK_KNOWN_ISSUES",
        "INVALID_RUNBOOK_KNOWN_ISSUE",
        "INVALID_RUNBOOK_KNOWN_ISSUE_URL",
        "RUNBOOK_APPEARS_IN_MENU"
      ],
      "enumDescriptions": [
        "Missing frontmatter block",
        "File doesn't end with newline",
        "Unknown frontmatter attribute",
        "Missing title field",
        "Title longer than 100 characters",
        "Title shorter than 5 characters",
        "Missing description field",
        "Description longer than 300 characters",
        "Description shorter than 50 characters",
        "Description doesn't end with period",
        "Description contains line breaks",
        "Missing linkTitle for menu pages",
        "Link title longer than 40 characters",
        "Missing weight for menu pages",
        "Missing owner field",
        "Owner doesn't start with GitHub team URL",
        "Missing last_review_date field",
        "Review date is too old",
        "Invalid date format or future date",
        "Missing user_questions field",
        "User question longer than 100 characters",
        "User question doesn't end with question mark",
        "Runbook pages must have layout: runbook",
        "Runbook variables must be an array and not empty",
        "Each runbook variable must have a name specified",
        "Variable names must use only uppercase letters and underscores, and be unique",
        "Each variable must be a valid object with name field and optional description and default fields",
        "Runbook dashboards must be an array and not empty",
        "Each runbook dashboard must have name and link specified and non-empty",
        "Dashboard link must be a valid URL with properly defined variables",
        "Runbook known issues must be an array and not empty",
        "Each known issue must have url defined and may have optional description field",
        "Known issue URL must be a valid URL",
        "Runbook pages must have toc_hide: true to prevent appearing in menus"
      ]
    }
  }
}
